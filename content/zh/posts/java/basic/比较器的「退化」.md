---
title: "æ¯”è¾ƒå™¨çš„ã€Œé€€åŒ–ã€"
date: 2019-08-27
lastmod: 2019-10-21
draft: false
description: "Java8å¯¹Comparableå’ŒComparatoræ¥å£çš„æ–¹æ³•æä¾›äº†Lambdaè¡¨è¾¾å¼æ”¯æŒï¼ŒåŒæ—¶æ¥å£æ–°å¢äº†é»˜è®¤æ–¹æ³•ï¼Œå¯ä»¥ç®€åŒ–æ“ä½œã€‚"
tags:
- lambda
categories:
- java
series:
-
author: "wangy325"

image:
---

åœ¨ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ¯”è¾ƒå™¨çš„æ—¶å€™ï¼Œideaæä¾›äº†å‡ ä¸ªå±‚æ¬¡çš„æ¯”è¾ƒå™¨ä»£ç ä¼˜åŒ–ï¼Œç»™ğŸ‘´æ•´æ‡µé€¼äº†ã€‚

<!--more-->

Here is the original code:

```java
 // sort by time
barList.sort(new Comparator<MarketDataBar>() {
    @Override
    public int compare(MarketDataBar o1, MarketDataBar o2) {
        if (o1.getTime().getTime() > o2.getTime().getTime()) {
            return 1;
        }
        if (o1.getTime().getTime() < o2.getTime().getTime()) {
            return -1;
        }
        return 0;
    }
});
```

Firstly, we could use `Long.compare()` to replace the `if` statement, it looks like:

```java
// sort by time
barList.sort(new Comparator<MarketDataBar>() {
    @Override
    public int compare(MarketDataBar o1, MarketDataBar o2) {
        return Long.compare(o1.getTime().getTime(), o2.getTime().getTime());
    }
});
```

So far, the code is much simplified then before.

But also, we coulde use lamda replace anonymous innner class, after doing that, it looks like:

```java
// sort by time
barList.sort((o1, o2) -> Long.compare(o1.getTime().getTime(), o2.getTime().getTime()));
```

though we used lambda, we could replace the comparator with `Comparator.comparingLong`:

```java
// sort by time
barList.sort(Comparator.comparingLong(o -> o.getTime().getTime()));
```

this is the ultimate version of a comparator, a 'one line compartor'.
