---
title: "2020年度总结"
date: 2020-12-31T20:57:00+08:00
lastmod: 2020-12-31T23:30:00+08:00
draft: true
description: ""
# hiddenFromHomePage: true # doesn't work
tags:
-
categories:
- 随笔

author: "wangy325"
---

2020，我，作为一个处于危机边缘而不自觉的人，果不其然地，陷入了失业的漩涡。这不是“主动离职”4个字就能概括的一年，里面包含了太多的曲折与困难。

<!--more-->

转行3年，或许我还没有摸清行业的门道，还没有清楚地知道我自己究竟需要的是什么，希望从事的工作是什么？常常戏谑地说，都是为钱过活，但是最初的愿景是切实的打好技术基础，钱是水到渠成的事情。就是这样的一个简单的愿景，一直在被现实干扰，当然，这种干扰是无法规避的，除非我到了另一个次元。所以，生活在世，有些固有的坚持是必要的，不然轻易被现实洪流冲乱了方向。

说实话，在“愤而离职”之前，我从没有想过，能有如此之长（10个月）的真空期，这自然是偏离计划之外的事情。面试时被问及为何如此，总是苦笑的说“那时冲动”之类的话语，当然，这是坦诚的回答，同时也是敷衍的回答。现在回想起来，还是高估了自己的能力，低估了市场的残酷。

经历了段不长的转行工作经历之后，自然地意识到Java系统的庞大与自身积累的局限，更重要的是学习的速度跟不上技术的发展。纵使接触一些新的技术，凭浅薄的原始积累，也仅仅凭记忆记住「有这个技术」罢了，谈原理与机制就是妄想了。这是最初离职的缘由——希望花点时间整理知识体系。当然，现阶段说体系这个词，尚有些浮夸，还是搭建基础知识框架的阶段。基础不行，接触再多的技术，那都是空中楼阁，一段时间不用，再捡起来，就得重新开始了，我是这么认为的。

既然如此，还是从源头Java开始，毕竟短浅的年限，Java语言的高级特性还是一知半解，这是迫切需要解决的问题。正是因为有了这个觉悟，这篇总结能够规整地呈现在页面，而不是散落在硬盘的角落或者在某个笔记APP的文件夹里。我希望借助一个静态博客托管工具来保存、记录技术的积累，于是找到了Hugo，一切就绪之后，就可以撸起袖子开始干了。

这几年工作方面的问题，无论是bug的处理还是新技术的整合使用问题，大多是网络上搜集资料的多，记录的少，只汲取而不输出可不是什么好习惯，况且记录并解决问题也是学习的过程，几天的时间处理一个问题还是值得记录一笔的，这一想法由来已久，于是Hugo便成了理所应当之选择。

另一方面，意识到知识的获取应始于书本而不是网络鱼龙混杂的博客，而各个博客平台的的技术文章比较杂乱，如果仅仅依赖于此，必然获取到的知识也是不纯粹的，所以还是需要自己动手，构建自己的记录。加之近来专业相关的书籍买了一堆，但是烦于处理工作事务而轻阅读，也是在疫情端口离职的缘由之一。

基于上述种种，2020年初离职之后，便开始了自修之旅，此番过程以《Thinking In Java》和《Java核心技术卷·I》这2本书的内容纲要为主，打算重新拾取Java技术的盲区，或者说一些之前理解不够透彻、深入的内容，包括且不限于

- 抽象类，接口，工厂以及模版方法
- 内部类（重要的类组成成员）
- java8 的函数式接口，lambda表达式与方法引用
- 集合框架的深入理解（基于源码和JavaDoc）
- Java的反射与代理

同时，在最流行的Java开发框架Spring方面，以《Spring In Action》为主，从头开始领略了Spring容器在Java开发过程中的发挥，其中也接触到了3.0/4.0之后就有的一些特性与功能，包括但不限于：

- 基于Java Bean以及注解（去xml）的配置
- 基于`@Profile`的多环境配置
- 基于`@Conditional`的条件化注入
- 基于注解的的AOP配置
- 基于注解和JavaBean的WebMvc配置（完全取代mvc.xml和web.xml）

此外，在数据库与持久化方面，接触了Spring jdbc、Hibernate以及jpa，并使用H2内存数据库进行了集成测试，这里面涉及了完全在之前项目里面没有涉及（一直使用mybatis）的内容：

- spring jdbc提供了完全的持久化功能，JdbcTemplate使用方便，但是其基于原生SQL（尽管支持SQL构造器），代码不够优雅
- Hibernate的持久化基于Java Bean（`@Entity`），并且支持多种查询方式
    - 原生SQL
    - HQL（Hibernate Query Language），代码简介于基于原生SQL
    - CriteriaQuery的SQL语句与返回结果的拼装（去SQL）
- javax.persistence-api提供了一整套联结JavaBean与数据层的注解（`@Id`，`@Column`，`@ManyToOne`，`@OneToMany`...）

鉴于数据库开发工作限于在Mapper中编写简单的SQL，于是借助《MySQL必知必会》这本书对MySQL整体有了初略的了解。当然阅读本书并不能够将SQL编写能力提升一个档次，但是能够全局掌握SQL语法组成，这是至关重要的，以至于编写SQL时不至于胡乱拼凑。

做完这些基础之后，已年中。彼时曾找过一段时间的工作，其中不乏长达2个小时的面试，结果自然是一无所获。这又回到了之前的表述：高估了自己的能力，低估了市场的残酷。

当沉浸于昨日收获的一个知识点的时候，现实的当头一棒把人敲的昏沉。上述所列之内容，在技术官看来，不过是开发人员理所应当掌握的基础罢了，不值一提，确实如此。当我有理有据地说出希望公司加班强度不那么大，希望能留多时间继续延续这个看书（自修）的过程的时候，可能在面试官心里，就已经取消了你的录用资格。

那时候，我内心埋藏的希望已经彻底破灭了。甚至一度对于自己的喜好产生了怀疑，找不到技术所向往从事的行业。我迷失了，我不再接收招聘信息，每日熬夜游戏、看剧。希望永远是黑夜，我一直可以睡觉而不必理会任何事物。

直到我又重新拿起了《Thinking In Java》，翻到了从未深入理解的并发那几页，每日不断的看、写，从而内心又找到了一丝慰藉。并发这一块的内容是花费时间最长，可以说是线程的创建开始，重头仔细学习了一遍，时间花的越多，收获也就越多。当然，此期间也看了网络上一些优秀的关于并发的文章，以及阿里大佬关于并发的书《Java并发编程的艺术》，可以说是收获颇丰：

- 线程的状态及生命周期
- 资源的共享
- 线程的交互（sleep，wait，join），简单的无锁同步
- 同步关键字与临界区
- 死锁与解除死锁
- 锁与条件
- 获取任务的返回值（Callable/Future/FutureTask）
- 线程本地存储（ThreadLocal）
- 执行器与线程池
- 周期执行的任务（ScheduleThreadPool）
- 生产者-消费者与阻塞队列
- 并发组件（CountDownLatch/CycleBarrier/Exchanger/Semaphore）
- 线程安全的集合（CopyOnWriteList/ConcurrentHashMap/...）


得益于这一番自修，使得自己博客的字数突破10w，Java并发的内容独占了7成！当然，这并不是并发框架的全部，甚至对有些内容的了解都尚粗浅，如果需要进一步，还需要多读读源码。

并发的内容阅读记录下来，已经接近11月底了。还是计划在年底找一份工，年后好直接上岗。于是开始了第二次的求职尝试。像临考之前无心看书一样，临面试时也无心看书。不过此时心境有变，还是在Github上面找了一个很好的仓库，里面涵盖介绍了Java框架绝大部分内容。 在这个过程中，
接触了几个比较重要的内容：

- JVM虚拟机内存模型与垃圾回收
- 数据库的事务基础
- redis的内存淘汰机制与持久化方式

Java虚拟机的内存模型零零碎碎地看过多次，但是没有形成系统的印象，只知道几个零星的概念（堆、栈、程序计数器、常量池、本地方法栈等），虽然现在也不敢说每个内存区域储存的具体信息，但是大概知道了每个内存区域在的功能，也基本了解堆的内存分配，垃圾回收的的常用算法等等。当然，如想深入理解其中的机制与缘由，还需深读《深入理解Java虚拟机》，值得一提的是，《深入理解Java虚拟机》这本书是在研究并发内容【volatile关键字】的时候购买的。

另外一个重要的点就是数据库事务这块内容（经常被问）。偶尔的灵光一闪，竟然领悟到事务是一个并发概念，而由于之前所了解的关于并发的内容，此时，了解并发相关的内容便是势在必行的了。于是参看了《高性能MySQL》的部分内容，了解了MySQL的存储引擎与事务相关的基础【并没有深入的去探究数据在MySQL的是怎么存储的】，此基础是为继续深入学习MySQL而打下的。

关于缓存或者说NoSQL数据库这一块内容，受限于业务场景，个人使用偏多的是字符串和哈希，更侧重的是利用Java进行redis的整合，包括redis几种使用方式【单实例、哨兵、集群】的搭建，而少关注redis数据类型的实现以及其内部的优化机制，包括内存淘汰机制、防止redis穿透甚至redis的持久化这些内容都缺乏了解，这一次算是补充这些概念的短板，同MySQL一样，只是建立了知识模型，后续的深入理解，还需借助更加系统的书籍。

10个月的空窗期，中间认认真真看书写博客的时间估计就有6个月左右。也只有些许知识的积累能够让内心稍感慰藉，不然容易陷入空虚谷，这是一方面，另一方面，正是由于长时间的自修，疲乏下来，效率自然下跌。其实总体回想起来，这几个月的时间，实际上产出效率并不算出色，甚至显得平庸了。不过，那些沉浸在源码里的夜晚，确实一定程度上，加深了对Java语言的理解，有点只可意会不可言传的感觉。

值得一提的是华为的面试经历【OD】，面试的周期拖的挺长的，差不多20天了，机试题虽然简单，但是也不得不拿出来说一下。牛客网老早就是知道的一个在线题库，里面聚集了太多科班的技术同学，我作为半路出家的典型，其实去的少，颇有羞于踏足的意味。但是听闻华为的机试是牛客平台，还是得去准备一下。生手上来，直接遇到了几个算法题，缺乏基础的我虽然能解出其中一道两道，查看其他同学的题解，那么简洁、高级，我顿时自惭形秽。这也是情理之中的事情，没有处理特定问题的经验，不知道算法套路，自然是很难找到最优解的，如果我找到了，那我一定是天赋型选手了。所以，计划将牛客网刷题记录作为一个长期任务坚持下去，作为积累的一部分。其次说说华为最后一次的主管面，在我阐述了我的基本信息之后，主管也给出了一些指导性建议，是关于自修这条路行不行得通，能走到哪里，是否曲折的建议，也算是比较中肯的。首先，自学肯定是可以的，只要保持学习的态度和积极性。我也常常自省，或者说感叹，Java的领域太过于庞大了，里面所涉及的技术从项目的搭建、部署、运维、监控几个维度来看就已经够庞大了，其次在项目的搭建这一过程中，所涉及的细分面就广的难以技术了，任何业务需求都有多种可行性选择，正是这种灵活性，造就了Java体系的庞大。

就是在初踏进Java的大门之后，接触到这个庞大的体系，有些迷茫而不知所措，有太多的东西要学而不知道该学哪个东西。其实，也不算迷茫，而是偏离了既定的方向，走了一些弯路，在一个分支上花费了一些时间。现在看来，应以Java为本体，毕竟Java的源码包，这段时间也就接触了一个juc而已！所有的那些Java所涉及的领域，其实都是从Java的能力发散开来的，简单的例子，没有`javax.persistence`，哪有什么hibernate啊！Java提供了上游技术【框架】的基础，学好Java再进行良好的知识发散，从事正确的途径。有些技术是Java无关性的，技术计算机网络，以及算法。

所以接下来的任务就变得很明显了

- 还是应以Java为主，重点在I/O，JEE的Servlet
- Jvm辅助阅读
- Spring【不急于SpringBoot和Cloud，spring framework才是基础】
- 算法入门
- 计算机网络

大部分的书籍实际上都是已经储备了的，无论是纸质版还是电子版，应该还是以阅读书籍为主。一件好笑的事情是，之前使用spring5整合swagger2的时候，发现swagger的页面总是无法访问，在csdn上折腾了2个晚上，结果使用google，只在starkflow上看了一篇文章，问题就解决了。
