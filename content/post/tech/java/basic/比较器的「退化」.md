---
title: "æ¯”è¾ƒå™¨çš„ã€Œé€€åŒ–ã€"
date: 2019-08-27
lastmod: 2019-10-21
draft: false
tags: [JavaåŸºç¡€]
categories: [java]
author: "wangy325"

hasJCKLanguage: true
# You can also close(false) or open(true) something for this content.
# P.S. comment can only be closed
# comment: false
toc: true
autoCollapseToc: false

# reward: false
mathjax: true
---

åœ¨ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ¯”è¾ƒå™¨çš„æ—¶å€™ï¼Œideaæä¾›äº†å‡ ä¸ªå±‚æ¬¡çš„æ¯”è¾ƒå™¨ä»£ç ä¼˜åŒ–ï¼Œç»™ğŸ‘´æ•´æ‡µé€¼äº†ã€‚

<!--more-->

Here is the original code:

```java
 // sort by time
barList.sort(new Comparator<MarketDataBar>() {
    @Override
    public int compare(MarketDataBar o1, MarketDataBar o2) {
        if (o1.getTime().getTime() > o2.getTime().getTime()) {
            return 1;
        }
        if (o1.getTime().getTime() < o2.getTime().getTime()) {
            return -1;
        }
        return 0;
    }
});
```

Firstly, we could use `Long.compare()` to replace the `if` statement, it looks like:

```java
// sort by time
barList.sort(new Comparator<MarketDataBar>() {
    @Override
    public int compare(MarketDataBar o1, MarketDataBar o2) {
        return Long.compare(o1.getTime().getTime(), o2.getTime().getTime());
    }
});
```

So far, the code is much simplified then before.

But also, we coulde use lamda replace anonymous innner class, after doing that, it looks like:

```java
// sort by time
barList.sort((o1, o2) -> Long.compare(o1.getTime().getTime(), o2.getTime().getTime()));
```

though we used lamda, we could replace the comparator with `Comparator.comparingLong`:

```java
// sort by time
barList.sort(Comparator.comparingLong(o -> o.getTime().getTime()));
```

this is the ultimate version of a comparator, a 'one line compartor'.
